
if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilot.Global==='undefined'){DayPilot.Global={};};(function(){if(typeof DayPilot.$!=='undefined'){return;};DayPilot.$=function(id){return document.getElementById(id);};DayPilot.mo=function(t,ev){ev=ev||window.event;if(ev.layerX){var $a={x:ev.layerX,y:ev.layerY};if(!t){return $a;};return $a;};if(ev.offsetX){return{x:ev.offsetX,y:ev.offsetY};};return null;};DayPilot.isKhtml=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("KHTML")!=-1);DayPilot.isIE=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE")!=-1);DayPilot.isIE7=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE 7")!=-1);DayPilot.mo2=function($b,ev){ev=ev||window.event;if(typeof(ev.offsetX)!=='undefined'){var $a={x:ev.offsetX+1,y:ev.offsetY+1};if(!$b){return $a;};var $c=ev.srcElement;while($c&&$c!=$b){if($c.tagName!='SPAN'){$a.x+=$c.offsetLeft;if($c.offsetTop>0){$a.y+=$c.offsetTop-$c.scrollTop;}};$c=$c.offsetParent;};if($c){return $a;};return null;};if(typeof(ev.layerX)!=='undefined'){var $a={x:ev.layerX,y:ev.layerY,$d:ev.target};if(!$b){return $a;};var $c=ev.target;while($c&&$c.style.position!='absolute'&&$c.style.position!='relative'){$c=$c.parentNode;if(DayPilot.isKhtml){$a.y+=$c.scrollTop;}}while($c&&$c!=$b){$a.x+=$c.offsetLeft;$a.y+=$c.offsetTop-$c.scrollTop;$c=$c.offsetParent;};if($c){return $a;};return null;};return null;};DayPilot.mo3=function($b,ev){ev=ev||window.event;var $e=DayPilot.page(ev);if($e){var $f=DayPilot.abs($b);return{x:$e.x-$f.x,y:$e.y-$f.y};};return DayPilot.mo2($b,ev);};DayPilot.page=function(ev){ev=ev||window.event;if(typeof ev.pageX!=='undefined'){return{x:ev.pageX,y:ev.pageY};};if(typeof ev.clientX!=='undefined'){return{x:ev.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,y:ev.clientY+document.body.scrollTop+document.documentElement.scrollTop};};return null;};DayPilot.abs=function(element,$g){if(!element){return null;};var r={x:element.offsetLeft,y:element.offsetTop,w:element.clientWidth,h:element.clientHeight,toString:function(){return "x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h;}};if(element.getBoundingClientRect){var b=element.getBoundingClientRect();r.x=b.left;r.y=b.top;var d=DayPilot.doc();r.x-=d.clientLeft||0;r.y-=d.clientTop||0;var $h=DayPilot.pageOffset();r.x+=$h.x;r.y+=$h.y;if($g){var $i=DayPilot.absOffsetBased(element,false);var $g=DayPilot.absOffsetBased(element,true);r.x+=$g.x-$i.x;r.y+=$g.y-$i.y;r.w=$g.w;r.h=$g.h;};return r;}else{return DayPilot.absOffsetBased(element,$g);}};DayPilot.isArray=function(o){return Object.prototype.toString.call(o)==='[object Array]';};DayPilot.absOffsetBased=function(element,$g){var r={x:element.offsetLeft,y:element.offsetTop,w:element.clientWidth,h:element.clientHeight,toString:function(){return "x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h;}};while(element.offsetParent){element=element.offsetParent;r.x-=element.scrollLeft;r.y-=element.scrollTop;if($g){if(r.x<0){r.w+=r.x;r.x=0;};if(r.y<0){r.h+=r.y;r.y=0;};if(element.scrollLeft>0&&r.x+r.w>element.clientWidth){r.w-=r.x+r.w-element.clientWidth;};if(element.scrollTop&&r.y+r.h>element.clientHeight){r.h-=r.y+r.h-element.clientHeight;}};r.x+=element.offsetLeft;r.y+=element.offsetTop;};var $h=DayPilot.pageOffset();r.x+=$h.x;r.y+=$h.y;return r;};DayPilot.distance=function($j,$k){return Math.sqrt(Math.pow($j.x-$k.x,2)+Math.pow($j.y-$k.y,2));};DayPilot.doc=function(){var de=document.documentElement;return(de&&de.clientHeight)?de:document.body;};DayPilot.pageOffset=function(){if(typeof pageXOffset!=='undefined'){return{x:pageXOffset,y:pageYOffset};};var d=DayPilot.doc();return{x:d.scrollLeft,y:d.scrollTop};};DayPilot.ac=function(e,$l){if(!$l){var $l=[];};for(var i=0;e.children&&i<e.children.length;i++){$l.push(e.children[i]);DayPilot.ac(e.children[i],$l);};return $l;};DayPilot.indexOf=function($m,$n){if(!$m||!$m.length){return -1;};for(var i=0;i<$m.length;i++){if($m[i]===$n){return i;}};return -1;};DayPilot.debug=function($o,$p){if(!DayPilot.debugMessages){DayPilot.debugMessages=[];};DayPilot.debugMessages.push($o);if(typeof console!=='undefined'){console.log($o);}};DayPilot.debug.show=function(){alert("Log:\n"+DayPilot.debugMessages.join("\n"));};DayPilot.debug.clear=function(){DayPilot.debugMessages=[];};DayPilot.mc=function(ev){if(ev.pageX||ev.pageY){return{x:ev.pageX,y:ev.pageY};};return{x:ev.clientX+document.documentElement.scrollLeft,y:ev.clientY+document.documentElement.scrollTop};};DayPilot.re=function(el,ev,$q){if(el.addEventListener){el.addEventListener(ev,$q,false);}else if(el.attachEvent){el.attachEvent("on"+ev,$q);}};DayPilot.ue=function(el,ev,$q){if(el.removeEventListener){el.removeEventListener(ev,$q,false);}else if(el.detachEvent){el.detachEvent("on"+ev,$q);}};DayPilot.tr=function($r){if(!$r)return '';return $r.replace(/^\s+|\s+$/g,"");};DayPilot.ds=function(d){return DayPilot.Date.toStringSortable(d);};DayPilot.gs=function(el,$s){var x=el;if(x.currentStyle)var y=x.currentStyle[$s];else if(window.getComputedStyle)var y=document.defaultView.getComputedStyle(x,null).getPropertyValue($s);if(typeof(y)=='undefined')y='';return y;};DayPilot.ea=function(a){var $t="";for(var i=0;i<a.length;i++){if(a[i]||typeof(a[i])=='number'){if(a[i].isDayPilotDate){a[i]=a[i].toStringSortable();}else if(a[i].getFullYear){a[i]=DayPilot.ds(a[i]);};$t+=encodeURIComponent(a[i]);};if(i+1<a.length){$t+='&';}};return $t;};DayPilot.he=function(str){var $u=str.replace(/&/g,"&amp;");$u=$u.replace(/</g,"&lt;");$u=$u.replace(/>/g,"&gt;");$u=$u.replace(/"/g,"&quot;");return $u;};DayPilot.ci=function($v){var i=$v.cellIndex;if(i&&i>0)return i;var tr=$v.parentNode;var $w=tr.cells.length;for(i=0;i<$w;i++){if(tr.cells[i]==$v)return i;};return null;};DayPilot.us=function(element){if(element){element.setAttribute("unselectable","on");element.style.MozUserSelect='none';for(var i=0;i<element.childNodes.length;i++){if(element.childNodes[i].nodeType==1){DayPilot.us(element.childNodes[i]);}}}};DayPilot.pu=function(d){var a=d.attributes,i,l,n;if(a){l=a.length;for(i=0;i<l;i+=1){if(!a[i]){continue;};n=a[i].name;if(typeof d[n]==='function'){d[n]=null;}}};a=d.childNodes;if(a){l=a.length;for(i=0;i<l;i+=1){var $l=DayPilot.pu(d.childNodes[i]);}}};DayPilot.puc=function(d){var a=d.childNodes;if(a){l=a.length;for(i=0;i<l;i+=1){DayPilot.pu(d.childNodes[i]);}}};DayPilot.de=function(e){if(!e){return;};if(!e.parentNode){return;};e.parentNode.removeChild(e);};DayPilot.gr=function($v){var i=0;var tr=$v.parentNode;while(tr.previousSibling){tr=tr.previousSibling;if(tr.tagName==="TR"){i++;}};return i;};DayPilot.fade=function(element,$x,end){var $y=50;var $g=element.style.display!=='none';var $z=$x>0;var $A=$x<0;if($x===0){return;};if($z&&!$g){element.target=parseFloat(element.style.opacity);element.style.opacity=0;element.style.filter="alpha(opacity=0)";element.style.display='';}else if($A&&!element.target){element.target=element.style.opacity;}else{var $c=parseFloat(element.style.opacity);var $B=Math.floor(10*($c+$x))/10;if($z&&$B>element.target){$B=element.target;};if($A&&$B<0){$B=0;};var ie=$B*100;element.style.opacity=$B;element.style.filter="alpha(opacity="+ie+")";};if(($z&&(element.style.opacity>=element.target||element.style.opacity>=1))||($A&&element.style.opacity<=0)){element.target=null;if($A){element.style.opacity=element.target;var ie=element.target*100;element.style.filter="alpha(opacity="+ie+")";element.style.display='none';};if(end&&typeof end==='function'){end();}}else{this.messageTimeout=setTimeout(function(){DayPilot.fade(element,$x,end);},$y);}};DayPilot.sw=function(element){if(!element){return 0;};return element.offsetWidth-element.clientWidth;};DayPilot.sh=function(element){if(!element){return 0;};return element.offsetHeight-element.clientHeight;};DayPilot.guid=function(){var S4=function(){return(((1+Math.random())*0x10000)|0).toString(16).substring(1);};return(S4()+S4()+"-"+S4()+"-"+S4()+"-"+S4()+"-"+S4()+S4()+S4());};DayPilot.ua=function($m){var u={},a=[];for(var i=0,l=$m.length;i<l;++i){if($m[i]in u)continue;a.push($m[i]);u[$m[i]]=1;};return a;};DayPilot.Util={};DayPilot.Util.addClass=function($n,name){if(!$n){return;};if(!$n.className){$n.className=name;return;};var $C=new RegExp("(^|\\s)"+name+"($|\\s)");if(!$C.test($n.className)){$n.className=$n.className+' '+name;}};DayPilot.Util.removeClass=function($n,name){if(!$n){return;};var $C=new RegExp("(^|\\s)"+name+"($|\\s)");$n.className=$n.className.replace($C,' ').replace(/^\s\s*/,'').replace(/\s\s*$/,'');};DayPilot.Util.props=function(o){var t=[];for(a in o){t.push(a);t.push(o[a]);};return t.join("-");};DayPilot.Areas={};DayPilot.Areas.showAreas=function($D,e,ev){if($D.active){return;};if(DayPilot.Global.resizing){return;};if(DayPilot.Global.moving){return;};$D.active={};var $E=e.areas;if(!$E&&e.data&&e.data.areas){$E=e.data.areas;};if(!$E||$E.length===0){return;};$D.areas=[];for(var i=0;i<$E.length;i++){var $F=$E[i];var a=document.createElement("div");a.style.position="absolute";if(typeof $F.w!=='undefined'){a.style.width=$F.w+"px";};if(typeof $F.h!=='undefined'){a.style.height=$F.h+"px";};if(typeof $F.right!=='undefined'){a.style.right=$F.right+"px";};if(typeof $F.top!=='undefined'){a.style.top=$F.top+"px";};if(typeof $F.left!=='undefined'){a.style.left=$F.left+"px";};if(typeof $F.bottom!=='undefined'){a.style.bottom=$F.bottom+"px";};if(typeof $F.html!=='undefined'&&$F.html){a.innerHTML=$F.html;};if($F.css){a.className=$F.css;};if($F.action=="ResizeEnd"||$F.action=="ResizeStart"||$F.action=="Move"){if(e.calendar.isCalendar){switch($F.action){case "ResizeEnd":$F.cursor="s-resize";$F.dpBorder="bottom";break;case "ResizeStart":$F.cursor="n-resize";$F.dpBorder="top";break;case "Move":$F.cursor="move";break;}};if(e.calendar.isScheduler||e.calendar.isMonth){switch($F.action){case "ResizeEnd":$F.cursor="e-resize";$F.dpBorder="right";break;case "ResizeStart":$F.cursor="w-resize";$F.dpBorder="left";break;case "Move":$F.cursor="move";break;}};a.onmousemove=(function($D,e,$F){return function(ev){var ev=ev||window.event;$D.style.cursor=$F.cursor;if($F.dpBorder)$D.dpBorder=$F.dpBorder;ev.cancelBubble=true;};})($D,e,$F);a.onmouseout=(function($D,e,$F){return function(ev){$D.style.cursor='';};})($D,e,$F);};a.onmousedown=(function($D,e,$F){return function(ev){if(e.calendar.isMonth){if($F.action=="Move"||$F.action=="ResizeEnd"||$F.action=="ResizeStart"){return;};ev=ev||window.event;ev.cancelBubble=true;}};})($D,e,$F);a.onclick=(function($D,e,$F){return function(ev){var ev=ev||window.event;switch($F.action){case "JavaScript":var f=eval($F.js);if(typeof f=='function'){f(e);};break;case "ContextMenu":var $G=eval($F.menu);if($G&&$G.show){$G.show(e);};break;case "CallBack":alert("callback not implemented yet, id: "+$F.id);break;};ev.cancelBubble=true;;};})($D,e,$F);$D.areas.push(a);$D.appendChild(a);};$D.active.children=DayPilot.ac($D);};DayPilot.Areas.all=[];DayPilot.Areas.hideAreas=function($D,ev){if(!$D||!$D.active){return;};var $H=$D.active;var $E=$D.areas;var ev=ev||window.event;var $b=ev.toElement||ev.relatedTarget;if(~DayPilot.indexOf($H.children,$b)){return;};if(!$E||$E.length===0){$D.active=null;return;};for(var i=0;i<$E.length;i++){var a=$E[i];$D.removeChild(a);};$D.active=null;$D.areas=[];$H.children=null;};DayPilot.Selection=function($I,end,$J,$K){this.type='selection';this.start=$I.isDayPilotDate?$I:new DayPilot.Date($I);this.end=end.isDayPilotDate?end:new DayPilot.Date(end);this.resource=$J;this.root=$K;this.toJSON=function($L){var $M={};$M.start=this.start;$M.end=this.end;$M.resource=this.resource;return $M;};};DayPilot.Event=function($N,$O,$P){var e=this;this.calendar=$O;this.data=$N?$N:{};this.part=$P?$P:{};var $Q={};var $R=["value","text","start","end","resource"];this.isEvent=true;this.temp=function(){if($Q.dirty){return $Q;};for(var i=0;i<$R.length;i++){$Q[$R[i]]=e.data[$R[i]];};$Q.dirty=true;return $Q;};this.copy=function(){var $u={};for(var i=0;i<$R.length;i++){$u[$R[i]]=e.data[$R[i]];};return $u;};this.commit=function(){if(!$Q.dirty){return;};for(var i=0;i<$R.length;i++){e.data[$R[i]]=$Q[$R[i]];};$Q.dirty=false;};this.dirty=function(){return $Q.dirty;};this.value=function($S){if(typeof $S==='undefined'){return e.data.value;}else{this.temp().value=$S;}};this.text=function($S){if(typeof $S==='undefined'){return e.data.text;}else{this.temp().text=$S;this.client.innerHTML($S);}};this.start=function($S){if(typeof $S==='undefined'){return new DayPilot.Date(e.data.start);}else{this.temp().start=new DayPilot.Date($S);}};this.end=function($S){if(typeof $S==='undefined'){return new DayPilot.Date(e.data.end);}else{this.temp().end=new DayPilot.Date($S);}};this.partStart=function(){return new DayPilot.Date(this.part.start);};this.partEnd=function(){return new DayPilot.Date(this.part.end);};this.row=function(){return this.resource();};this.resource=function($S){if(typeof $S==='undefined'){return e.data.resource;}else{this.temp().resource=$S;}};this.recurrent=function(){return e.data.recurrent;};this.recurrentMasterId=function(){return e.data.recurrentMasterId;};this.useBox=function(){return this.part.box;};this.staticBubbleHTML=function(){return e.data.staticBubbleHTML;};this.tag=function($T){var $U=e.data.tag;if(!$U){return null;};if(!$T){return e.data.tag;};var $V=e.calendar.tagFields;var $W=-1;for(var i=0;i<$V.length;i++){if($T===$V[i])$W=i;};if($W===-1){throw "Field name not found.";};return $U[$W];};this.client={};this.client.innerHTML=function($S){if(typeof $S==='undefined'){return typeof e.data.innerHTML!=="undefined"?e.data.innerHTML:e.data.text;}else{e.data.innerHTML=$S;}};this.client.cssClass=function($S){if(typeof $S==='undefined'){return e.data.cssClass;}else{e.data.cssClass=$S;}};this.client.toolTip=function($S){if(typeof $S==='undefined'){return typeof e.data.toolTip!=='undefined'?e.data.toolTip:e.data.text;}else{e.data.toolTip=$S;}};this.client.backColor=function($S){if(typeof $S==='undefined'){return typeof e.data.backColor!=="undefined"?e.data.backColor:e.calendar.eventBackColor;}else{e.data.backColor=$S;}};this.client.barColor=function($S){if(typeof $S==='undefined'){return typeof e.data.barColor!=="undefined"?e.data.barColor:e.calendar.durationBarColor;}else{e.data.barColor=$S;}};this.client.barVisible=function($S){if(typeof $S==='undefined'){return e.calendar.durationBarVisible&&!e.data.barHidden;}else{e.data.barHidden=!$S;}};this.client.contextMenu=function($S){if(typeof $S==='undefined'){if(e.oContextMenu){return e.oContextMenu;};return(e.data.contextMenu)?eval(e.data.contextMenu):null;}else{e.oContextMenu=$S;}};this.client.moveEnabled=function($S){if(typeof $S==='undefined'){return e.calendar.eventMoveHandling!=='Disabled'&&!e.data.moveDisabled;}else{e.data.moveDisabled=!$S;}};this.client.resizeEnabled=function($S){if(typeof $S==='undefined'){return e.calendar.eventResizeHandling!=='Disabled'&&!e.data.resizeDisabled;}else{e.data.resizeDisabled=!$S;}};this.client.rightClickEnabled=function($S){if(typeof $S==='undefined'){return e.calendar.rightClickHandling!=='Disabled'&&!e.data.rightClickDisabled;}else{e.data.rightClickDisabled=!$S;}};this.client.clickEnabled=function($S){if(typeof $S==='undefined'){return e.calendar.clickHandling!=='Disabled'&&!e.data.clickDisabled;}else{e.data.clickDisabled=!$S;}};this.client.doubleClickEnabled=function($S){if(typeof $S==='undefined'){return e.calendar.doubleClickHandling!=='Disabled'&&!e.data.doubleClickDisabled;}else{e.data.doubleClickDisabled=!$S;}};this.toJSON=function($L){var $M={};$M.value=this.value();$M.text=this.text();$M.start=this.start();$M.end=this.end();$M.resource=this.resource();$M.isAllDay=false;$M.recurrentMasterId=this.recurrentMasterId();$M.tag={};if(e.calendar.tagFields){var $V=e.calendar.tagFields;for(var i=0;i<$V.length;i++){$M.tag[$V[i]]=this.tag($V[i]);}};return $M;};};DayPilot.EventData=function(e){this.value=function(){return id;};this.tag=function(){return null;};this.start=function(){return new Date(0);};this.end=function(){return new Date($X*1000);};this.text=function(){return $Y;};this.isAllDay=function(){return false;};};DayPilot.request=function($Z,$00,$01,$02){var $03=DayPilot.createXmlHttp();if(!$03){return;};$03.open("POST",$Z,true);$03.setRequestHeader('Content-type','application/x-www-form-urlencoded');$03.onreadystatechange=function(){if($03.readyState!=4)return;if($03.status!=200&&$03.status!=304){if($02){$02($03);}else{alert('HTTP error '+$03.status);};return;};$00($03);};if($03.readyState==4){return;};$03.send($01);};DayPilot.createXmlHttp=function(){var $04;try{$04=new XMLHttpRequest();}catch(e){try{$04=new ActiveXObject("Microsoft.XMLHTTP");}catch(e){}};return $04;};DayPilot.Date=function($05,$06){this.isDayPilotDate=true;if(typeof $05==='undefined'){this.d=DayPilot.Date.fromLocal();}else if(typeof $05==="string"){return DayPilot.Date.fromStringSortable($05);}else if($05.isDayPilotDate){return $05;}else if(!$05.getFullYear){throw "date parameter is not a Date object: "+$05;}else if($06){this.d=DayPilot.Date.fromLocal($05);}else{this.d=$05;};this.ticks=this.d.getTime();};DayPilot.Date.prototype.addDays=function($07){return new DayPilot.Date(DayPilot.Date.addDays(this.d,$07));};DayPilot.Date.prototype.addHours=function($08){return this.addTime($08*60*60*1000);};DayPilot.Date.prototype.addMilliseconds=function($09){return this.addTime($09);};DayPilot.Date.prototype.addMinutes=function($0a){return this.addTime($0a*60*1000);};DayPilot.Date.prototype.addMonths=function($0b){return new DayPilot.Date(DayPilot.Date.addMonths(this.d,$0b));};DayPilot.Date.prototype.addSeconds=function($0c){return this.addTime($0c*1000);};DayPilot.Date.prototype.addTime=function($0d){return new DayPilot.Date(DayPilot.Date.addTime(this.d,$0d));};DayPilot.Date.prototype.addYears=function($0e){var n=this.clone();n.d.setUTCFullYear(this.getYear()+$0e);return n;};DayPilot.Date.prototype.clone=function(){return new DayPilot.Date(DayPilot.Date.clone(this.d));};DayPilot.Date.prototype.dayOfWeek=function(){return this.d.getUTCDay();};DayPilot.Date.prototype.daysInMonth=function(){return DayPilot.Date.daysInMonth(this.d);};DayPilot.Date.prototype.dayOfYear=function(){return Math.ceil((this.getDatePart().getTime()-this.firstDayOfYear().getTime())/86400000)+1;};DayPilot.Date.prototype.equals=function($0f){if($0f===null){return false;};if($0f.isDayPilotDate){return DayPilot.Date.equals(this.d,$0f.d);}else{throw "The parameter must be a DayPilot.Date object (DayPilot.Date.equals())";}};DayPilot.Date.prototype.firstDayOfMonth=function(){var $0g=DayPilot.Date.firstDayOfMonth(this.getYear(),this.getMonth()+1);return new DayPilot.Date($0g);};DayPilot.Date.prototype.firstDayOfYear=function(){var $0h=this.getYear();var d=new Date();d.setUTCFullYear($0h,0,1);d.setUTCHours(0);d.setUTCMinutes(0);d.setUTCSeconds(0);d.setUTCMilliseconds(0);return new DayPilot.Date(d);};DayPilot.Date.prototype.firstDayOfWeek=function($0i){var $0g=DayPilot.Date.firstDayOfWeek(this.d,$0i);return new DayPilot.Date($0g);};DayPilot.Date.prototype.getDay=function(){return this.d.getUTCDate();};DayPilot.Date.prototype.getDatePart=function(){return new DayPilot.Date(DayPilot.Date.getDate(this.d));};DayPilot.Date.prototype.getYear=function(){return this.d.getUTCFullYear();};DayPilot.Date.prototype.getHours=function(){return this.d.getUTCHours();};DayPilot.Date.prototype.getMilliseconds=function(){return this.d.getUTCMilliseconds();};DayPilot.Date.prototype.getMinutes=function(){return this.d.getUTCMinutes();};DayPilot.Date.prototype.getMonth=function(){return this.d.getUTCMonth();};DayPilot.Date.prototype.getSeconds=function(){return this.d.getUTCSeconds();};DayPilot.Date.prototype.getTotalTicks=function(){return this.getTime();};DayPilot.Date.prototype.getTime=function(){if(typeof this.ticks!=='number'){throw "Uninitialized DayPilot.Date (internal error)";};return this.ticks;};DayPilot.Date.prototype.getTimePart=function(){return DayPilot.Date.getTime(this.d);};DayPilot.Date.prototype.lastDayOfMonth=function(){var $0g=DayPilot.Date.lastDayOfMonth(this.getYear(),this.getMonth()+1);return new DayPilot.Date($0g);};DayPilot.Date.prototype.weekNumber=function(){var $0j=this.firstDayOfYear();var $07=(this.getTime()-$0j.getTime())/86400000;return Math.ceil(($07+$0j.dayOfWeek()+1)/7);};DayPilot.Date.prototype.local=function(){if(typeof this.offset==='undefined'){return new DayPilot.Date(this.d);};return this.addMinutes(this.offset);};DayPilot.Date.prototype.weekNumberISO=function(){var $0k=false;var $0l=this.dayOfYear();var $0m=this.firstDayOfYear().dayOfWeek();var $0n=this.firstDayOfYear().addYears(1).addDays(-1).dayOfWeek();if($0m==0){$0m=7;};if($0n==0){$0n=7;};var $0o=8-($0m);if($0m==4||$0n==4){$0k=true;};var $0p=Math.ceil(($0l-($0o))/7.0);var $0q=$0p;if($0o>=4){$0q=$0q+1;};if($0q>52&&!$0k){$0q=1;};if($0q==0){$0q=this.firstDayOfYear().addDays(-1).weekNumberISO();};return $0q;};DayPilot.Date.prototype.toDateLocal=function(){return DayPilot.Date.toLocal(this.d);};DayPilot.Date.prototype.toJSON=function(){return this.toStringSortable();};DayPilot.Date.prototype.toString=function(){return this.toStringSortable();};DayPilot.Date.prototype.toStringSortable=function(){return DayPilot.Date.toStringSortable(this.d);};DayPilot.Date.fromStringSortable=function($0r){var $0s=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:(\+|-)(\d{2}):(\d{2}))?$/;var $05=/^(\d{4})-(\d{2})-(\d{2})$/;var $0t=$0s.test($0r);var $0u=$05.test($0r);var $0v=$0t||$0u;if(!$0v){throw "Invalid string format (use '2010-01-01', '2010-01-01T00:00:00', or '2010-01-01T00:00:00+00:00'.";};var $0w=$0t?$0s:$05;var m=$0w.exec($0r);var d=new Date();d.setUTCFullYear(m[1],m[2]-1,m[3]);d.setUTCHours(m[4]?m[4]:0);d.setUTCMinutes(m[5]?m[5]:0);d.setUTCSeconds(m[6]?m[6]:0);d.setUTCMilliseconds(0);var $u=new DayPilot.Date(d);if(!m[7]){return $u;};var $08=m[8];var $0a=m[9];var $0x=$08*60+$0a;if(m[7]=="-"){$0x=-$0x;};$u=$u.addMinutes(-$0x);$u.offset=$0x;return $u;};DayPilot.Date.addDays=function($05,$07){var d=new Date();d.setTime($05.getTime()+$07*24*60*60*1000);return d;};DayPilot.Date.addMinutes=function($05,$0a){var d=new Date();d.setTime($05.getTime()+$0a*60*1000);return d;};DayPilot.Date.addMonths=function($05,$0b){if($0b==0)return $05;var y=$05.getUTCFullYear();var m=$05.getUTCMonth()+1;if($0b>0){while($0b>=12){$0b-=12;y++;};if($0b>12-m){y++;m=$0b-(12-m);}else{m+=$0b;}}else{while($0b<=-12){$0b+=12;y--;};if(m<=$0b){y--;m=12-($0b+m);}else{m=m+$0b;}};var d=DayPilot.Date.clone($05);d.setUTCFullYear(y);d.setUTCMonth(m-1);return d;};DayPilot.Date.addTime=function($05,$0y){var d=new Date();d.setTime($05.getTime()+$0y);return d;};DayPilot.Date.clone=function($0z){var d=new Date();return DayPilot.Date.dateFromTicks($0z.getTime());};DayPilot.Date.daysDiff=function($0j,$0A){if($0j.getTime()>$0A.getTime()){return null;};var i=0;var $0B=DayPilot.Date.getDate($0j);var $0C=DayPilot.Date.getDate($0A);while($0B<$0C){$0B=DayPilot.Date.addDays($0B,1);i++;};return i;};DayPilot.Date.daysInMonth=function($0h,$0D){if($0h.getUTCFullYear){$0D=$0h.getUTCMonth()+1;$0h=$0h.getUTCFullYear();};var m=[31,28,31,30,31,30,31,31,30,31,30,31];if($0D!=2)return m[$0D-1];if($0h%4!=0)return m[1];if($0h%100==0&&$0h%400!=0)return m[1];return m[1]+1;};DayPilot.Date.daysSpan=function($0j,$0A){if($0j.getTime()==$0A.getTime()){return 0;};var $0E=DayPilot.Date.daysDiff($0j,$0A);if(DayPilot.Date.equals($0A,DayPilot.Date.getDate($0A))){$0E--;};return $0E;};DayPilot.Date.diff=function($0j,$0A){if(!($0j&&$0A&&$0j.getTime&&$0A.getTime)){throw "Both compared objects must be Date objects (DayPilot.Date.diff).";};return $0j.getTime()-$0A.getTime();};DayPilot.Date.equals=function($0j,$0A){return $0j.getTime()==$0A.getTime();};DayPilot.Date.fromLocal=function($0F){if(!$0F){$0F=new Date();};var d=new Date();d.setUTCFullYear($0F.getFullYear(),$0F.getMonth(),$0F.getDate());d.setUTCHours($0F.getHours());d.setUTCMinutes($0F.getMinutes());d.setUTCSeconds($0F.getSeconds());d.setUTCMilliseconds($0F.getMilliseconds());return d;};DayPilot.Date.firstDayOfMonth=function($0h,$0D){var d=new Date();d.setUTCFullYear($0h,$0D-1,1);d.setUTCHours(0);d.setUTCMinutes(0);d.setUTCSeconds(0);d.setUTCMilliseconds(0);return d;};DayPilot.Date.firstDayOfWeek=function(d,$0i){var $0G=d.getUTCDay();while($0G!=$0i){d=DayPilot.Date.addDays(d,-1);$0G=d.getUTCDay();};return d;};DayPilot.Date.dateFromTicks=function($0d){var d=new Date();d.setTime($0d);return d;};DayPilot.Date.getDate=function($0z){var d=DayPilot.Date.clone($0z);d.setUTCHours(0);d.setUTCMinutes(0);d.setUTCSeconds(0);d.setUTCMilliseconds(0);return d;};DayPilot.Date.getStart=function($0h,$0D,$0i){var $0H=DayPilot.Date.firstDayOfMonth($0h,$0D);d=DayPilot.Date.firstDayOfWeek($0H,$0i);return d;};DayPilot.Date.getTime=function($0z){var $05=DayPilot.Date.getDate($0z);return DayPilot.Date.diff($0z,$05);};DayPilot.Date.hours=function($05,$0I){var $0J=$05.getUTCMinutes();if($0J<10)$0J="0"+$0J;var $0K=$05.getUTCHours();if($0I){var am=$0K<12;var $0K=$0K%12;if($0K==0){$0K=12;};var $0L=am?"AM":"PM";return $0K+':'+$0J+' '+$0L;}else{return $0K+':'+$0J;}};DayPilot.Date.lastDayOfMonth=function($0h,$0D){var d=DayPilot.Date.firstDayOfMonth($0h,$0D);var length=DayPilot.Date.daysInMonth($0h,$0D);d.setUTCDate(length);return d;};DayPilot.Date.max=function($0j,$0A){if($0j.getTime()>$0A.getTime()){return $0j;}else{return $0A;}};DayPilot.Date.min=function($0j,$0A){if($0j.getTime()<$0A.getTime()){return $0j;}else{return $0A;}};DayPilot.Date.today=function(){var $0M=new Date();var d=new Date();d.setUTCFullYear($0M.getFullYear());d.setUTCMonth($0M.getMonth());d.setUTCDate($0M.getDate());return d;};DayPilot.Date.toLocal=function($05){if(!$05){$05=new Date();};var d=new Date();d.setFullYear($05.getUTCFullYear(),$05.getUTCMonth(),$05.getUTCDate());d.setHours($05.getUTCHours());d.setMinutes($05.getUTCMinutes());d.setSeconds($05.getUTCSeconds());d.setMilliseconds($05.getUTCMilliseconds());return d;};DayPilot.Date.toStringSortable=function($05){if($05.isDayPilotDate){return $05.toStringSortable();};var d=$05;var $0A=d.getUTCSeconds();if($0A<10)$0A="0"+$0A;var $0J=d.getUTCMinutes();if($0J<10)$0J="0"+$0J;var $0K=d.getUTCHours();if($0K<10)$0K="0"+$0K;var $0G=d.getUTCDate();if($0G<10)$0G="0"+$0G;var $0D=d.getUTCMonth()+1;if($0D<10)$0D="0"+$0D;var $0h=d.getUTCFullYear();if($0h<=0){throw "The minimum year supported is 1.";};if($0h<10){$0h="000"+$0h;}else if($0h<100){$0h="00"+$0h;}else if($0h<1000){$0h="0"+$0h;};return $0h+"-"+$0D+"-"+$0G+'T'+$0K+":"+$0J+":"+$0A;};})();DayPilot.JSON={};(function(){function f(n){return n<10?'0'+n:n;};if(typeof Date.prototype.toJSON2!=='function'){Date.prototype.toJSON2=function($L){return this.getUTCFullYear()+'-'+f(this.getUTCMonth()+1)+'-'+f(this.getUTCDate())+'T'+f(this.getUTCHours())+':'+f(this.getUTCMinutes())+':'+f(this.getUTCSeconds())+'';};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function($L){return this.valueOf();};};var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,$0N=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,$0O,$0P,$0Q={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'},$0R;function quote($0r){$0N.lastIndex=0;return $0N.test($0r)?'"'+$0r.replace($0N,function(a){var c=$0Q[a];if(typeof c==='string'){return c;};return '\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+$0r+'"';};function str($L,$0S){var i,k,v,length,$0T=$0O,$0U,$0V=$0S[$L];if($0V&&typeof $0V==='object'&&typeof $0V.toJSON2==='function'){$0V=$0V.toJSON2($L);}else if($0V&&typeof $0V==='object'&&typeof $0V.toJSON==='function'&&!$0V.ignoreToJSON){$0V=$0V.toJSON($L);};if(typeof $0R==='function'){$0V=$0R.call($0S,$L,$0V);};switch(typeof $0V){case 'string':return quote($0V);case 'number':return isFinite($0V)?String($0V):'null';case 'boolean':case 'null':return String($0V);case 'object':if(!$0V){return 'null';};$0O+=$0P;$0U=[];if(typeof $0V.length==='number'&&!$0V.propertyIsEnumerable('length')){length=$0V.length;for(i=0;i<length;i+=1){$0U[i]=str(i,$0V)||'null';};v=$0U.length===0?'[]':$0O?'[\n'+$0O+$0U.join(',\n'+$0O)+'\n'+$0T+']':'['+$0U.join(',')+']';$0O=$0T;return v;};if($0R&&typeof $0R==='object'){length=$0R.length;for(i=0;i<length;i+=1){k=$0R[i];if(typeof k==='string'){v=str(k,$0V);if(v){$0U.push(quote(k)+($0O?': ':':')+v);}}}}else{for(k in $0V){if(Object.hasOwnProperty.call($0V,k)){v=str(k,$0V);if(v){$0U.push(quote(k)+($0O?': ':':')+v);}}}};v=($0U.length===0)?'{\u007D':$0O?'{\n'+$0O+$0U.join(',\n'+$0O)+'\n'+$0T+'\u007D':'{'+$0U.join(',')+'\u007D';$0O=$0T;return v;}};if(typeof DayPilot.JSON.stringify!=='function'){DayPilot.JSON.stringify=function($0V,$0W,$0X){var i;$0O='';$0P='';if(typeof $0X==='number'){for(i=0;i<$0X;i+=1){$0P+=' ';}}else if(typeof $0X==='string'){$0P=$0X;};$0R=$0W;if($0W&&typeof $0W!=='function'&&(typeof $0W!=='object'||typeof $0W.length!=='number')){throw new Error('JSON.stringify');};return str('',{'':$0V});};}})();


